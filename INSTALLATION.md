# üìö –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –£–°–¢–ê–ù–û–í–ö–ï –ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

## ‚ùó –í–ê–ñ–ù–û: –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞

### 1. –°–æ–∑–¥–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é MySQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

#### A) FreeSQLDatabase.com (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://www.freesqldatabase.com/
2. –ù–∞–∂–º–∏—Ç–µ "Create Free MySQL Database"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É (Email, –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–¥—É—Ç –Ω–∞ email

#### B) FreeMySQLHosting.net
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://www.freemysqlhosting.net/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ

### 2. –ó–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```
Host: (–Ω–∞–ø—Ä–∏–º–µ—Ä: sql12.freemysqlhosting.net)
Database: (–Ω–∞–ø—Ä–∏–º–µ—Ä: sql12745123)
Username: (–Ω–∞–ø—Ä–∏–º–µ—Ä: sql12745123)
Password: (–≤–∞—à –ø–∞—Ä–æ–ª—å)
Port: 3306
```

---

## üöÄ –£–°–¢–ê–ù–û–í–ö–ê –ü–†–û–ï–ö–¢–ê

### –®–ê–ì 1: –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–∑ GitHub
git clone <repo-url>
cd api-data-sync
```

### –®–ê–ì 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PHP –∏ Composer

**–î–ª—è Windows:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ XAMPP –∏–ª–∏ Laragon (–≤–∫–ª—é—á–∞–µ—Ç PHP + MySQL)
2. –°–∫–∞—á–∞–π—Ç–µ Composer: https://getcomposer.org/download/

**–î–ª—è Linux/Mac:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PHP
sudo apt install php php-mysql php-mbstring php-xml

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Composer
curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer
```

### –®–ê–ì 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Laravel

```bash
composer install
```

### –®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

```env
# –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_HOST=sql12.freemysqlhosting.net
DB_PORT=3306
DB_DATABASE=sql12745123
DB_USERNAME=sql12745123
DB_PASSWORD=–í–ê–®_–ü–ê–†–û–õ–¨

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API (–Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å)
API_BASE_URL=http://109.73.206.144:6969
API_KEY=E6kUTYrYwZq2tN4QEtyzsbEBk3ie
```

### –®–ê–ì 5: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã

```bash
php artisan migrate
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–¥—É—Ç—Å—è 4 —Ç–∞–±–ª–∏—Ü—ã:
- sales (–ø—Ä–æ–¥–∞–∂–∏)
- orders (–∑–∞–∫–∞–∑—ã)
- stocks (—Å–∫–ª–∞–¥—ã)
- incomes (–¥–æ—Ö–æ–¥—ã)

---

## üéØ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)

```bash
php artisan api:sync
```

### –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥

```bash
php artisan api:sync --dateFrom=2024-11-01 --dateTo=2024-11-23
```

### –¢–æ–ª—å–∫–æ –∑–∞ —Å–µ–≥–æ–¥–Ω—è

```bash
php artisan api:sync --dateFrom=2024-11-23 --dateTo=2024-11-23
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –î–ê–ù–ù–´–•

### –ß–µ—Ä–µ–∑ MySQL Workbench

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MySQL Workbench
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   - Host: –≤–∞—à DB —Ö–æ—Å—Ç
   - Port: 3306
   - Username: –≤–∞—à username
   - Password: –≤–∞—à –ø–∞—Ä–æ–ª—å
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã: sales, orders, stocks, incomes

### –ß–µ—Ä–µ–∑ phpMyAdmin

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç phpMyAdmin:
1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–æ–º
2. –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã

### –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª

```bash
mysql -h sql12.freemysqlhosting.net -u sql12745123 -p
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å

USE sql12745123;
SHOW TABLES;
SELECT COUNT(*) FROM sales;
SELECT * FROM sales LIMIT 10;
```

---

## üîß –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### "SQLSTATE[HY000] [2002] Connection refused"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ `.env` —Ñ–∞–π–ª–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan config:clear
```

### "Class 'SyncApiData' not found"

**–ü—Ä–∏—á–∏–Ω–∞:** Composer autoload –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
composer dump-autoload
```

### "cURL error"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API —Å–µ—Ä–≤–µ—Ä—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ API —Å–µ—Ä–≤–µ—Ä:
```bash
curl http://109.73.206.144:6969/api/sales?key=E6kUTYrYwZq2tN4QEtyzsbEBk3ie
```

### –û—à–∏–±–∫–∞ Migration

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
php artisan migrate:fresh
```

---

## üìà –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Cron)

–ù–∞ Linux —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 23:00)
0 23 * * * cd /path/to/api-data-sync && php artisan api:sync
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏
tail -f storage/logs/laravel.log
```

---

## üìù –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. ‚úÖ –õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:
   - –ú–Ω–æ–≥–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏ –¥–∞—é—Ç –¥–æ 5MB
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞—é—Ç –¥–æ 1GB
   - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö

2. ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API:
   - –ú–∞–∫—Å–∏–º—É–º 500 –∑–∞–ø–∏—Å–µ–π –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
   - –í –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ 1 —Å–µ–∫—É–Ω–¥—É

3. ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
   ```bash
   mysqldump -h HOST -u USERNAME -p DATABASE > backup.sql
   ```

4. ‚úÖ –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
   ```sql
   TRUNCATE TABLE sales;
   TRUNCATE TABLE orders;
   TRUNCATE TABLE stocks;
   TRUNCATE TABLE incomes;
   ```

---

## üéì –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û –û LARAVEL

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è:

**Model** - PHP –∫–ª–∞—Å—Å, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —Ç–∞–±–ª–∏—Ü–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```php
// –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–¥–µ–ª—å Sale.php —Å–≤—è–∑–∞–Ω–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π sales
$sales = Sale::all(); // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏
```

**Migration** - –°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
php artisan make:migration create_sales_table
```

**Command** - –ü—Ä–æ–≥—Ä–∞–º–º–∞, —Ä–∞–±–æ—Ç–∞—é—â–∞—è —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª
```bash
php artisan make:command SyncApiData
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
php artisan list

# –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É
php artisan help api:sync

# –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan config:clear
php artisan cache:clear

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—Ç—Å—è!)
php artisan migrate:fresh
```

---

## üéâ –ì–û–¢–û–í–û!

–ï—Å–ª–∏ –≤—Å–µ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
2. ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (4 —à—Ç—É–∫–∏)
3. ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API
4. ‚úÖ –ü—Ä–æ–µ–∫—Ç –Ω–∞ GitHub

**–£–¥–∞—á–∏! üöÄ**

---

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø–∏—à–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Issues –ø—Ä–æ–µ–∫—Ç–∞!
